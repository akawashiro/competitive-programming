<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4．01 Transitional//EN">

<html lang="ja">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <meta http-equiv="Content-Style-Type" content="text/css">
 <link rev="made" href="mailto:joi@ioi-jp．org">
 <title>JOI 2010-2011 予選 問題５</title>
</head>
<body>

<table border="0" cellspacing="5">
 <tr>
  <td><img src="../images/JOIlogo_color_100.png" alt="JOI logo" width="100" height="100"></td>
  <td width="50"></td>
  <td>
   <table border="0" align="center">
    <tr>
     <td width="550" height="30" align="center" 
      style="color:#ffffff; background-color:#ff8844; 
             font-size:x-large; font-weight:bold;">
	            第10回日本情報オリンピック　予選５
     </td>
    </tr>
   </table>
  </td>
 </tr>
</table>

<p align="right">
2010年12月9日<br>
情報オリンピック日本委員企画
</p>

<!-- JOI-TASK-START -->

<table>
 <tr>
  <td>
   <table border="0" cellpadding=2>
    <tr>
     <th width="80" height="70" align="center" 
      style="font-size:large; 
	     border-style:solid;
	     border-color:black;">
      問題<br>５<br>
     </th>
     <th style="font-size:large;">
       　　　チーズ (Cheese)
     </th>
    </tr>
   </table>
  </td>
 </tr>
</table>

<h2 style="background-color:silver; border-style:groove; 
	   margin-left:20px; margin-right:20px; padding:2pt; padding-left:20px;">
  問題</h2>
<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
今年も JOI 町のチーズ工場がチーズの生産を始め，ねずみが巣から顔を出した．JOI 町は東西南北に区画整理されていて，各区画は巣，チーズ工場，障害物，空き地のいずれかである．ねずみは巣から出発して全てのチーズ工場を訪れチーズを 1 個ずつ食べる．
</p>

<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
この町には，N 個のチーズ工場があり，どの工場も１種類のチーズだけを生産している．チーズの硬さは工場によって異なっており，硬さ 1 から N までのチーズを生産するチーズ工場がちょうど 1 つずつある．
</p>

<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
ねずみの最初の体力は 1 であり，チーズを 1 個食べるごとに体力が 1 増える．ただし，ねずみは自分の体力よりも硬いチーズを食べることはできない．
</p>

<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
ねずみは，東西南北に隣り合う区画に 1 分で移動することができるが，障害物の区画には入ることができない．チーズ工場をチーズを食べずに通り過ぎることもできる．すべてのチーズを食べ終えるまでにかかる最短時間を求めるプログラムを書け．ただし，ねずみがチーズを食べるのにかかる時間は無視できる．
</p>

<h2 style="background-color:silver; border-style:groove; 
	   margin-left:20px; margin-right:20px; padding:2pt; padding-left:20px;">
  入力</h2>
<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
入力は H+1 行ある．1 行目には 3 つの整数 H，W，N (1 ≦ H ≦ 1000，1 ≦ W ≦ 1000，1 ≦ N ≦ 9) がこの順に空白で区切られて書かれている．2 行目から H+1 行目までの各行には，'S'，'1', '2', ..., '9'，'X'，'.' からなる W 文字の文字列が書かれており，各々が各区画の状態を表している．北から i 番目，西から j 番目の区画を (i,j) と記述することにすると (1 ≦ i ≦ H, 1 ≦ j ≦ W)，第 i+1 行目の j 番目の文字は，区画 (i,j) が巣である場合は 'S' となり，障害物である場合は 'X' となり，空き地である場合は '.' となり，硬さ 1, 2, ..., 9 のチーズを生産する工場である場合はそれぞれ '1', '2', ..., '9' となる．入力には巣と硬さ 1, 2, ..., N のチーズを生産する工場がそれぞれ 1 つずつある．他のマスは障害物または空き地であることが保証されている．ねずみは全てのチーズを食べられることが保証されている．
</p>

<h2 style="background-color:silver; border-style:groove; 
	   margin-left:20px; margin-right:20px; padding:2pt; padding-left:20px;">
  出力</h2>
<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
すべてのチーズを食べ終えるまでにかかる最短時間（分）を表す整数を 1 行で出力せよ．
</p>

<h2 style="background-color:silver; border-style:groove; 
	   margin-left:20px; margin-right:20px; padding:2pt; padding-left:20px;">
  入出力例</h2>

<table style="margin-left: 50px; margin-right: 50px;">
 <tr>
  <th width="150" align="left"><a href="./2011-yo-t5-in_s1.txt" target="_blank">入力例 1</a></th>
  <th width="150" align="left"><a href="./2011-yo-t5-in_s2.txt" target="_blank">入力例 2</a></th>
  <th width="150" align="left"><a href="./2011-yo-t5-in_s3.txt" target="_blank">入力例 3</a></th>  
 </tr>
 <tr>
 <td valign="top">
  <pre>
3 3 1
S..
...
..1
  </pre>
  </td>
 <td valign="top">
  <pre>
4 5 2
.X..1
....X
.XX.S
.2.X.
  </pre>
 </td>
 <td valign="top">
  <pre>
10 10 9
.X...X.S.X
6..5X..X1X
...XXXX..X
X..9X...X.
8.X2X..X3X
...XX.X4..
XX....7X..
X..X..XX..
X...X.XX..
..X.......
  </pre>
 </td>
 </tr>
 <tr>
   <td>　</td>
 </tr>
 <tr>
   <th width="150" align="left"><a href="./2011-yo-t5-out_s1.txt" target="_blank">出力例 1</a></th>
   <th width="150" align="left"><a href="./2011-yo-t5-out_s2.txt" target="_blank">出力例 2</a></th>
   <th width="150" align="left"><a href="./2011-yo-t5-out_s3.txt" target="_blank">出力例 3</a></th>
 </tr>
 <tr>
  <td>
   <pre>
4
   </pre>
  </td>
  <td>
   <pre>
12
   </pre>
  </td>
  <td>
   <pre>
91
   </pre>
  </td>
 </tr>
</table>

<p style="line-height: 200%;  margin-left: 30px; margin-right: 30px;">
※各入出力例のデータは，右クリック等によりファイルに保存して利用可能です．
</p>

<!-- JOI-TASK-END -->

<!-- 作業時確認用データリスト開始 -->
<hr>

<h3>採点用データ</h3>

<div align="center">
<table border="2" summary="予選力?採点用データ">
 <tr>
  <th colspan="5"> 入力データ </th>
  <td width="70" align="center"><a href="./2011-yo-t5-in1.txt">入力1</a></td>
  <td width="70" align="center"><a href="./2011-yo-t5-in2.txt">入力2</a></td>
  <td width="70" align="center"><a href="./2011-yo-t5-in3.txt">入力3</a></td>
  <td width="70" align="center"><a href="./2011-yo-t5-in4.txt">入力4</a></td>
  <td width="70" align="center"><a href="./2011-yo-t5-in5.txt">入力5</a></td>
 </tr>
</table>
</div>

<!-- 作業時確認用データリスト終了 -->

</body>
</html>
